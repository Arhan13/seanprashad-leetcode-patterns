The time complexity of this code is O(h), where h is the height of the tree. In the worst case, the tree is skewed and the height is O(n), where n is the number of nodes in the tree. Therefore, the worst-case time complexity is O(n).

The space complexity of this code is O(h), where h is the height of the tree. In the worst case, the tree is skewed and the height is O(n), where n is the number of nodes in the tree. Therefore, the worst-case space complexity is O(n).